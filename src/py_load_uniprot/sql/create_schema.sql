CREATE SCHEMA IF NOT EXISTS __{SCHEMA_NAME}__;
CREATE TABLE IF NOT EXISTS __{SCHEMA_NAME}__.taxonomy ( ncbi_taxid INTEGER PRIMARY KEY, scientific_name VARCHAR(1023), lineage TEXT );
CREATE TABLE IF NOT EXISTS __{SCHEMA_NAME}__.proteins ( primary_accession VARCHAR(255) PRIMARY KEY, uniprot_id VARCHAR(255), ncbi_taxid INTEGER, sequence_length INTEGER, molecular_weight INTEGER, created_date DATE, modified_date DATE, comments_data JSONB, features_data JSONB, db_references_data JSONB, evidence_data JSONB, FOREIGN KEY (ncbi_taxid) REFERENCES __{SCHEMA_NAME}__.taxonomy(ncbi_taxid) );
CREATE TABLE IF NOT EXISTS __{SCHEMA_NAME}__.sequences ( primary_accession VARCHAR(255) PRIMARY KEY, sequence TEXT, FOREIGN KEY (primary_accession) REFERENCES __{SCHEMA_NAME}__.proteins(primary_accession) ON DELETE CASCADE );
CREATE TABLE IF NOT EXISTS __{SCHEMA_NAME}__.accessions ( protein_accession VARCHAR(255), secondary_accession VARCHAR(255), PRIMARY KEY (protein_accession, secondary_accession), FOREIGN KEY (protein_accession) REFERENCES __{SCHEMA_NAME}__.proteins(primary_accession) ON DELETE CASCADE );
CREATE TABLE IF NOT EXISTS __{SCHEMA_NAME}__.genes ( protein_accession VARCHAR(255), gene_name VARCHAR(255), is_primary BOOLEAN, PRIMARY KEY (protein_accession, gene_name), FOREIGN KEY (protein_accession) REFERENCES __{SCHEMA_NAME}__.proteins(primary_accession) ON DELETE CASCADE );
CREATE TABLE IF NOT EXISTS __{SCHEMA_NAME}__.keywords ( protein_accession VARCHAR(255), keyword_id VARCHAR(255), keyword_label VARCHAR(255), PRIMARY KEY (protein_accession, keyword_id), FOREIGN KEY (protein_accession) REFERENCES __{SCHEMA_NAME}__.proteins(primary_accession) ON DELETE CASCADE );
CREATE TABLE IF NOT EXISTS __{SCHEMA_NAME}__.protein_to_go ( protein_accession VARCHAR(255), go_term_id VARCHAR(255), PRIMARY KEY (protein_accession, go_term_id), FOREIGN KEY (protein_accession) REFERENCES __{SCHEMA_NAME}__.proteins(primary_accession) ON DELETE CASCADE );
